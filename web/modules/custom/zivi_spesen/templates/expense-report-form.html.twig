{#
/**
 * @file
 * Custom template for the Expense Report Form.
 *
 * Available variables:
 * - form: The form element.
 */
#}
<div class="max-w-7xl mx-auto p-6 bg-white rounded-lg shadow-sm font-sans">
  
  {# Form Header (Dates) #}
  <div class="flex flex-wrap gap-8 mb-8 items-end">
    <div class="w-full sm:w-auto">
      {{ form.header.date_range_start }}
    </div>
    <div class="w-full sm:w-auto">
      {{ form.header.date_range_end }}
    </div>
  </div>

  {# Grid Header #}
  <div class="hidden md:grid grid-cols-12 gap-4 mb-2 px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200 pb-2">
    <div class="col-span-3">Posten</div>
    <div class="col-span-2">Satz (CHF)</div>
    <div class="col-span-2">Tage / Anzahl</div>
    <div class="col-span-2">Total (CHF)</div>
    <div class="col-span-2">Beleg</div>
    <div class="col-span-1 text-center">Aktionen</div>
  </div>

  {# Expenses Grid #}
  <div class="space-y-0">
    {{ form.expenses }}
  </div>

  {# Add Button #}
  <div class="mt-4">
    {{ form.add_row }}
  </div>

  {# Total Sum #}
  <div class="mt-8 flex flex-col sm:flex-row justify-end items-center gap-4 border-t border-gray-200 pt-6">
     <label class="font-bold text-gray-700 text-lg">Total Geldleistung:</label>
     <div class="w-full sm:w-48">
       {{ form.total_sum_wrapper.total_sum }}
     </div>
  </div>

  {# Editor Comment #}
  {% if form.editor_comment %}
    <div class="mt-8 border-t border-gray-200 pt-6">
      {{ form.editor_comment }}
    </div>
  {% endif %}

  {# Actions #}
  <div class="mt-8 flex justify-end">
    {{ form.actions }}
  </div>

  {# Render remaining hidden fields (form_build_id, form_token, form_id, etc.) #}
  {{ form|without('header', 'expenses', 'add_row', 'total_sum_wrapper', 'actions', 'editor_comment') }}

</div>
